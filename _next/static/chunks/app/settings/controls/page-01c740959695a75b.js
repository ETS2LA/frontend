(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[347],{40382:function(e,t,n){Promise.resolve().then(n.bind(n,92471))},42306:function(e,t,n){"use strict";n.d(t,{$3:function(){return c},A2:function(){return l},BN:function(){return a},Bx:function(){return d},CX:function(){return x},D1:function(){return b},DK:function(){return w},TN:function(){return f},UP:function(){return o},Xm:function(){return g},ZX:function(){return h},ip:function(){return r},iq:function(){return p},qT:function(){return y},r5:function(){return u},sm:function(){return s},ue:function(){return m},wx:function(){return i}});let r="localhost";async function o(){console.log("Checking for update");let e=await fetch("http://"+r+":37520/backend/updates");return await e.json()}async function a(){console.log("Updating");let e=await fetch("http://"+r+":37520/backend/update");await e.json()}async function s(){console.log("Closing backend");let e=await fetch("http://"+r+":37520/backend/quit");await e.json()}async function i(){console.log("Minimizing backend");let e=await fetch("http://"+r+":37520/window/minimize");await e.json()}async function c(){let e=await fetch("http://"+r+":37520/backend/plugins");return await e.json()}async function l(){let e=await fetch("http://"+r+":37520/backend/statistics");return await e.json()}async function d(){let e=await fetch("http://"+r+":37520/backend/plugins/states");return await e.json()}async function u(e){console.log("Disabling plugin");let t=await fetch("http://"+r+":37520/backend/plugins/".concat(e,"/disable"));await t.json()}async function f(e){console.log("Enabling plugin");let t=await fetch("http://"+r+":37520/backend/plugins/".concat(e,"/enable"));await t.json()}async function h(){let e=await fetch("http://".concat(r,":37520/api/metadata"));return await e.json()}async function p(e,t,n,o){console.log(t);let a=await fetch("http://".concat(r,":37520/backend/plugins/").concat(e,"/function/call"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({target:t,args:n,kwargs:o})});return await a.json()}async function g(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],t=await fetch("http://".concat(r,":37520/window/stay_on_top/").concat(e),{method:"GET",headers:{"Content-Type":"application/json"}});return await t.json()}async function m(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],t=await fetch("http://".concat(r,":37520/window/transparency/").concat(e),{method:"GET",headers:{"Content-Type":"application/json"}});return await t.json()}async function x(){let e=await fetch("http://".concat(r,":37520/api/language"),{method:"GET",headers:{"Content-Type":"application/json"}});return await e.json()}async function y(e){let t=await fetch("http://".concat(r,":37520/api/page"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({page:e})});return await t.json()}async function w(){let e=await fetch("http://".concat(r,":37520/backend/devmode"),{method:"GET",headers:{"Content-Type":"application/json"}});return await e.json()}async function b(){let e=await fetch("http://".concat(r,":37520/api/plugins/reload"),{method:"GET",headers:{"Content-Type":"application/json"}});return await e.json()}},39824:function(e,t,n){"use strict";n.d(t,{Or:function(){return a},Yw:function(){return o},oB:function(){return i},on:function(){return c},wX:function(){return s}});var r=n(42306);async function o(e){let t=await fetch("http://".concat(r.ip,":37520/backend/plugins/").concat(e,"/settings"));return await t.json()}async function a(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;try{let o=await fetch("http://".concat(r.ip,":37520/backend/plugins/").concat(e,"/settings/").concat(t));if(!o.ok)return console.error("Failed to fetch: HTTP status ".concat(o.status)),n;try{let e=await o.json();if(null===e)return n;return e}catch(e){return console.error("Failed to parse JSON response:",e),n}}catch(e){return console.error("An error occurred while getting the setting by key:",e),n}}async function s(e,t,n){try{let o=await fetch("http://".concat(r.ip,":37520/backend/plugins/").concat(e,"/settings/").concat(t,"/set"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({value:n})});if(!o.ok)throw Error("HTTP error! status: ".concat(o.status));return await o.json()}catch(e){console.error("An error occurred while setting the setting by key:",e)}}async function i(e){try{let t=await fetch("http://".concat(r.ip,":37520/api/controls/").concat(e,"/change"),{method:"POST",headers:{"Content-Type":"application/json"}});if(!t.ok)throw Error("HTTP error! status: ".concat(t.status));return await t.json()}catch(e){console.error("An error occurred while triggering the keybind change:",e)}}async function c(e){try{let t=await fetch("http://".concat(r.ip,":37520/api/controls/").concat(e,"/unbind"),{method:"POST",headers:{"Content-Type":"application/json"}});if(!t.ok)throw Error("HTTP error! status: ".concat(t.status));return await t.json()}catch(e){console.error("An error occurred while unbinding the keybind:",e)}}},92471:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return p}});var r=n(57437),o=n(2265),a=n(94508);let s=o.forwardRef((e,t)=>{let{className:n,...o}=e;return(0,r.jsx)("div",{ref:t,className:(0,a.cn)("rounded-xl border bg-card text-card-foreground shadow",n),...o})});s.displayName="Card",o.forwardRef((e,t)=>{let{className:n,...o}=e;return(0,r.jsx)("div",{ref:t,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",n),...o})}).displayName="CardHeader",o.forwardRef((e,t)=>{let{className:n,...o}=e;return(0,r.jsx)("div",{ref:t,className:(0,a.cn)("font-semibold leading-none tracking-tight",n),...o})}).displayName="CardTitle",o.forwardRef((e,t)=>{let{className:n,...o}=e;return(0,r.jsx)("div",{ref:t,className:(0,a.cn)("text-sm text-muted-foreground",n),...o})}).displayName="CardDescription",o.forwardRef((e,t)=>{let{className:n,...o}=e;return(0,r.jsx)("div",{ref:t,className:(0,a.cn)("p-6 pt-0",n),...o})}).displayName="CardContent",o.forwardRef((e,t)=>{let{className:n,...o}=e;return(0,r.jsx)("div",{ref:t,className:(0,a.cn)("flex items-center p-6 pt-0",n),...o})}).displayName="CardFooter";var i=n(93772),c=n(63861),l=n(39824),d=n(62869),u=n(99376),f=n(35974),h=n(42306);function p(){let{push:e}=(0,u.useRouter)(),{data:t,error:n,isLoading:o}=(0,c.ZP)("controls",()=>(0,l.Yw)("ETS2LA%5Ccontrols.json"));if(o)return(0,r.jsx)(s,{className:"flex flex-col content-center text-center pt-10 space-y-5 pb-0 h-[calc(100vh-72px)] overflow-auto",children:(0,r.jsx)("p",{className:"font-semibold text-xs text-stone-400",children:"Loading..."})});if(n)return i.Am.error("Error fetching settings from "+h.ip,{description:n.message}),(0,r.jsx)(s,{className:"flex flex-col content-center text-center pt-10 space-y-5 pb-0 h-[calc(100vh-72px)] overflow-auto",children:(0,r.jsx)("p",{className:"absolute left-5 font-semibold text-xs text-stone-400",children:n.message})});console.log(t);let a=[];for(let e in t)a.push(e);let p=e=>void 0==e?"Unbound":e.length>16?e.slice(0,16)+"...":e,g=e=>void 0==e?"Unbound":e.length<=2?e:(e=e.replace("_"," ")).charAt(0).toUpperCase()+e.slice(1);return(0,r.jsx)("div",{className:"flex space-x-3 max-w-[calc(60vw-64px)] font-geist",children:(0,r.jsxs)("div",{className:"flex flex-col gap-4 h-full overflow-auto auto-rows-min w-full text-left",children:[(0,r.jsxs)("p",{className:"text-muted-foreground",children:["Warning: ",(0,r.jsx)("span",{className:"font-semibold underline",children:"Please close the game"})," before changing controls here.",(0,r.jsx)("br",{}),"The game control listener ",(0,r.jsx)("span",{className:"font-semibold",children:"might"})," interfere with ours depending on your system!"]}),a.map(e=>(0,r.jsxs)("div",{id:e,className:"flex w-full h-full justify-between border rounded-md p-4 text-left items-start",children:[(0,r.jsxs)("div",{className:"flex flex-col gap-2 w-full self-center",children:[(0,r.jsx)("p",{className:"font-semibold text-sm",children:t[e].name}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:""==t[e].description&&"No description provided"||t[e].description})]}),(0,r.jsx)("div",{className:"self-start items-end w-96 pl-4 pr-2",children:(0,r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(f.C,{className:"rounded w-16",children:"Device"}),(0,r.jsx)(f.C,{className:"rounded",variant:"secondary",children:""==t[e].device&&"Unbound"||p(t[e].device)})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(f.C,{className:"rounded w-16",children:"Keyboard"==t[e].device&&"Key"||"button"==t[e].type&&"Button"||"Axis"}),(0,r.jsx)(f.C,{className:"rounded",variant:"secondary",children:""==t[e].key&&"Unbound"||g(t[e].key)})]})]})}),(0,r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,r.jsx)(d.z,{className:"text-xs font-semibold h-[22px] rounded-sm",onClick:()=>{i.Am.promise((0,l.oB)(e),{loading:"Changing keybind...",success:"Keybind changed successfully!",error:"Failed to change keybind.",description:"button"==t[e].type&&"Please press the key you want to bind this event to."||"Please move the axis you want to bind this event to.",duration:1e3,onAutoClose:()=>(0,c.JG)("controls"),onDismiss:()=>(0,c.JG)("controls")})},children:"Change"}),(0,r.jsx)(d.z,{className:"text-xs font-semibold h-[22px] rounded-sm",variant:"secondary",onClick:()=>{i.Am.promise((0,l.on)(e),{loading:"Unbinding keybind...",success:"Keybind unbound successfully!",error:"Failed to unbind keybind.",duration:1e3,onAutoClose:()=>(0,c.JG)("controls"),onDismiss:()=>(0,c.JG)("controls")})},children:"Unbind"})]})]},e)),(0,r.jsx)("div",{className:"h-20"})]})})}},35974:function(e,t,n){"use strict";n.d(t,{C:function(){return i}});var r=n(57437);n(2265);var o=n(77712),a=n(94508);let s=(0,o.j)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:t,variant:n,...o}=e;return(0,r.jsx)("div",{className:(0,a.cn)(s({variant:n}),t),...o})}},62869:function(e,t,n){"use strict";n.d(t,{z:function(){return l}});var r=n(57437),o=n(2265),a=n(37053),s=n(77712),i=n(94508);let c=(0,s.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),l=o.forwardRef((e,t)=>{let{className:n,variant:o,size:s,asChild:l=!1,...d}=e,u=l?a.g7:"button";return(0,r.jsx)(u,{className:(0,i.cn)(c({variant:o,size:s,className:n})),ref:t,...d})});l.displayName="Button"},94508:function(e,t,n){"use strict";n.d(t,{cn:function(){return a}});var r=n(61994),o=n(53335);function a(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,o.m6)((0,r.W)(t))}},99376:function(e,t,n){"use strict";var r=n(35475);n.o(r,"usePathname")&&n.d(t,{usePathname:function(){return r.usePathname}}),n.o(r,"useRouter")&&n.d(t,{useRouter:function(){return r.useRouter}})}},function(e){e.O(0,[317,861,199,971,117,744],function(){return e(e.s=40382)}),_N_E=e.O()}]);