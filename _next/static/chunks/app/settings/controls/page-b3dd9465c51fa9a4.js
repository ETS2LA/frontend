(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[347],{40382:function(e,t,n){Promise.resolve().then(n.bind(n,92471))},42306:function(e,t,n){"use strict";n.d(t,{$3:function(){return c},A2:function(){return l},BN:function(){return o},Bx:function(){return u},CX:function(){return b},D1:function(){return y},DK:function(){return m},TN:function(){return f},UP:function(){return a},Xm:function(){return g},ZX:function(){return h},ip:function(){return r},iq:function(){return p},qT:function(){return x},r5:function(){return d},sm:function(){return i},ue:function(){return v},wx:function(){return s}});let r="localhost";async function a(){console.log("Checking for update");let e=await fetch("http://"+r+":37520/backend/updates");return await e.json()}async function o(){console.log("Updating");let e=await fetch("http://"+r+":37520/backend/update");await e.json()}async function i(){console.log("Closing backend");let e=await fetch("http://"+r+":37520/backend/quit");await e.json()}async function s(){console.log("Minimizing backend");let e=await fetch("http://"+r+":37520/window/minimize");await e.json()}async function c(){let e=await fetch("http://"+r+":37520/backend/plugins");return await e.json()}async function l(){let e=await fetch("http://"+r+":37520/backend/statistics");return await e.json()}async function u(){let e=await fetch("http://"+r+":37520/backend/plugins/states");return await e.json()}async function d(e){console.log("Disabling plugin");let t=await fetch("http://"+r+":37520/backend/plugins/".concat(e,"/disable"));await t.json()}async function f(e){console.log("Enabling plugin");let t=await fetch("http://"+r+":37520/backend/plugins/".concat(e,"/enable"));await t.json()}async function h(){let e=await fetch("http://".concat(r,":37520/api/metadata"));return await e.json()}async function p(e,t,n,a){console.log(t);let o=await fetch("http://".concat(r,":37520/backend/plugins/").concat(e,"/function/call"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({target:t,args:n,kwargs:a})});return await o.json()}async function g(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],t=await fetch("http://".concat(r,":37520/window/stay_on_top/").concat(e),{method:"GET",headers:{"Content-Type":"application/json"}});return await t.json()}async function v(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],t=await fetch("http://".concat(r,":37520/window/transparency/").concat(e),{method:"GET",headers:{"Content-Type":"application/json"}});return await t.json()}async function b(){let e=await fetch("http://".concat(r,":37520/api/language"),{method:"GET",headers:{"Content-Type":"application/json"}});return await e.json()}async function x(e){let t=await fetch("http://".concat(r,":37520/api/page"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({page:e})});return await t.json()}async function m(){let e=await fetch("http://".concat(r,":37520/backend/devmode"),{method:"GET",headers:{"Content-Type":"application/json"}});return await e.json()}async function y(){let e=await fetch("http://".concat(r,":37520/api/plugins/reload"),{method:"GET",headers:{"Content-Type":"application/json"}});return await e.json()}},39824:function(e,t,n){"use strict";n.d(t,{Or:function(){return o},Yw:function(){return a},oB:function(){return s},on:function(){return c},wX:function(){return i}});var r=n(42306);async function a(e){let t=await fetch("http://".concat(r.ip,":37520/backend/plugins/").concat(e,"/settings"));return await t.json()}async function o(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;try{let a=await fetch("http://".concat(r.ip,":37520/backend/plugins/").concat(e,"/settings/").concat(t));if(!a.ok)return console.error("Failed to fetch: HTTP status ".concat(a.status)),n;try{let e=await a.json();if(null===e)return n;return e}catch(e){return console.error("Failed to parse JSON response:",e),n}}catch(e){return console.error("An error occurred while getting the setting by key:",e),n}}async function i(e,t,n){try{let a=await fetch("http://".concat(r.ip,":37520/backend/plugins/").concat(e,"/settings/").concat(t,"/set"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({value:n})});if(!a.ok)throw Error("HTTP error! status: ".concat(a.status));return await a.json()}catch(e){console.error("An error occurred while setting the setting by key:",e)}}async function s(e){try{let t=await fetch("http://".concat(r.ip,":37520/api/controls/").concat(e,"/change"),{method:"POST",headers:{"Content-Type":"application/json"}});if(!t.ok)throw Error("HTTP error! status: ".concat(t.status));return await t.json()}catch(e){console.error("An error occurred while triggering the keybind change:",e)}}async function c(e){try{let t=await fetch("http://".concat(r.ip,":37520/api/controls/").concat(e,"/unbind"),{method:"POST",headers:{"Content-Type":"application/json"}});if(!t.ok)throw Error("HTTP error! status: ".concat(t.status));return await t.json()}catch(e){console.error("An error occurred while unbinding the keybind:",e)}}},92471:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var r=n(57437);n(2265);var a=n(94508);function o(e){let{className:t,...n}=e;return(0,r.jsx)("div",{"data-slot":"card",className:(0,a.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...n})}var i=n(93772),s=n(63861),c=n(39824),l=n(62869),u=n(99376),d=n(35974),f=n(42306);function h(){let{push:e}=(0,u.useRouter)(),{data:t,error:n,isLoading:a}=(0,s.ZP)("controls",()=>(0,c.Yw)("ETS2LA%5Ccontrols.json"));if(a)return(0,r.jsx)(o,{className:"flex flex-col content-center text-center pt-10 space-y-5 pb-0 h-[calc(100vh-72px)] overflow-auto",children:(0,r.jsx)("p",{className:"font-semibold text-xs text-stone-400",children:"Loading..."})});if(n)return i.Am.error("Error fetching settings from "+f.ip,{description:n.message}),(0,r.jsx)(o,{className:"flex flex-col content-center text-center pt-10 space-y-5 pb-0 h-[calc(100vh-72px)] overflow-auto",children:(0,r.jsx)("p",{className:"absolute left-5 font-semibold text-xs text-stone-400",children:n.message})});console.log(t);let h=[];for(let e in t)h.push(e);let p=e=>void 0==e?"Unbound":e.length>16?e.slice(0,16)+"...":e,g=e=>void 0==e?"Unbound":e.length<=2?e:(e=e.replace("_"," ")).charAt(0).toUpperCase()+e.slice(1);return(0,r.jsx)("div",{className:"flex space-x-3 max-w-[calc(60vw-64px)] font-geist",children:(0,r.jsxs)("div",{className:"flex flex-col gap-4 h-full overflow-auto auto-rows-min w-full text-left",children:[(0,r.jsxs)("p",{className:"text-muted-foreground",children:["Warning: ",(0,r.jsx)("span",{className:"font-semibold underline",children:"Please close the game"})," before changing controls here.",(0,r.jsx)("br",{}),"The game control listener ",(0,r.jsx)("span",{className:"font-semibold",children:"might"})," interfere with ours depending on your system!"]}),h.map(e=>(0,r.jsxs)("div",{id:e,className:"flex w-full h-full justify-between border rounded-md p-4 text-left items-start",children:[(0,r.jsxs)("div",{className:"flex flex-col gap-2 w-full self-center",children:[(0,r.jsx)("p",{className:"font-semibold text-sm",children:t[e].name}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:""==t[e].description&&"No description provided"||t[e].description})]}),(0,r.jsx)("div",{className:"self-start items-end w-96 pl-4 pr-2",children:(0,r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(d.C,{className:"rounded w-16",children:"Device"}),(0,r.jsx)(d.C,{className:"rounded",variant:"secondary",children:""==t[e].device&&"Unbound"||p(t[e].device)})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(d.C,{className:"rounded w-16",children:"Keyboard"==t[e].device&&"Key"||"button"==t[e].type&&"Button"||"Axis"}),(0,r.jsx)(d.C,{className:"rounded",variant:"secondary",children:""==t[e].key&&"Unbound"||g(t[e].key)})]})]})}),(0,r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,r.jsx)(l.z,{className:"text-xs font-semibold h-[22px] rounded-sm",onClick:()=>{i.Am.promise((0,c.oB)(e),{loading:"Changing keybind...",success:"Keybind changed successfully!",error:"Failed to change keybind.",description:"button"==t[e].type&&"Please press the key you want to bind this event to."||"Please move the axis you want to bind this event to.",duration:1e3,onAutoClose:()=>(0,s.JG)("controls"),onDismiss:()=>(0,s.JG)("controls")})},children:"Change"}),(0,r.jsx)(l.z,{className:"text-xs font-semibold h-[22px] rounded-sm",variant:"secondary",onClick:()=>{i.Am.promise((0,c.on)(e),{loading:"Unbinding keybind...",success:"Keybind unbound successfully!",error:"Failed to unbind keybind.",duration:1e3,onAutoClose:()=>(0,s.JG)("controls"),onDismiss:()=>(0,s.JG)("controls")})},children:"Unbind"})]})]},e)),(0,r.jsx)("div",{className:"h-20"})]})})}},35974:function(e,t,n){"use strict";n.d(t,{C:function(){return c}});var r=n(57437);n(2265);var a=n(37053),o=n(90535),i=n(94508);let s=(0,o.j)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/70",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function c(e){let{className:t,variant:n,asChild:o=!1,...c}=e,l=o?a.g7:"span";return(0,r.jsx)(l,{"data-slot":"badge",className:(0,i.cn)(s({variant:n}),t),...c})}},62869:function(e,t,n){"use strict";n.d(t,{z:function(){return c}});var r=n(57437);n(2265);var a=n(37053),o=n(90535),i=n(94508);let s=(0,o.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-input/10 shadow-xs hover:bg-accent hover:text-accent-foreground dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function c(e){let{className:t,variant:n,size:o,asChild:c=!1,...l}=e,u=c?a.g7:"button";return(0,r.jsx)(u,{"data-slot":"button",className:(0,i.cn)(s({variant:n,size:o,className:t})),...l})}},94508:function(e,t,n){"use strict";n.d(t,{cn:function(){return o}});var r=n(61994),a=n(53335);function o(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,a.m6)((0,r.W)(t))}},99376:function(e,t,n){"use strict";var r=n(35475);n.o(r,"usePathname")&&n.d(t,{usePathname:function(){return r.usePathname}}),n.o(r,"useRouter")&&n.d(t,{useRouter:function(){return r.useRouter}})}},function(e){e.O(0,[317,861,644,971,117,744],function(){return e(e.s=40382)}),_N_E=e.O()}]);